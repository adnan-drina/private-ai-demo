apiVersion: tekton.dev/v1
kind: PipelineRun
metadata:
  name: mistral-24b-import-full-fp16-2501
  namespace: private-ai-demo
  labels:
    app.kubernetes.io/part-of: model-serving
    model: mistral-24b
    variant: full
  annotations:
    argocd.argoproj.io/sync-wave: "3"
spec:
  pipelineRef:
    name: model-import-pipeline
  
  params:
    - name: model_name
      value: "Mistral-Small-24B-Instruct"
    - name: version_name
      value: "full-fp16-2501"
    - name: hf_repo
      value: "mistralai/Mistral-Small-Instruct-2409"
    - name: hf_revision
      value: "main"
    - name: is_quantized
      value: "false"
    - name: quay_org
      value: "adrina"
    - name: base_model
      value: "mistralai/Mistral-Small-Instruct-2409"
    - name: gpu_count
      value: "4"
    - name: registered_model_id
      value: "4"
  
  workspaces:
    - name: workspace
      volumeClaimTemplate:
        metadata:
          name: mistral-full-workspace
        spec:
          accessModes:
            - ReadWriteOnce
          resources:
            requests:
              storage: 200Gi
          storageClassName: gp3-csi
  
  taskRunTemplate:
    serviceAccountName: model-pipeline-sa
    podTemplate:
      securityContext:
        fsGroup: 1000680000
        fsGroupChangePolicy: OnRootMismatch
  
  timeouts:
    pipeline: "12h"

