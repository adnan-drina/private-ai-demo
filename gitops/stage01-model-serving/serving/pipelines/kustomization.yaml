apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Unified MinIO-First Pipeline
# Only active/ resources are deployed to the cluster
# archived-modelcar/ kept for history/audit but NOT deployed

resources:
  # RBAC (ServiceAccounts, Roles, RoleBindings)
  - 00-rbac
  
  # Active MinIO-First Pipeline
  # Works for ALL model sizes (quantized and full)
  - active/01-tasks
  - active/02-pipeline
  - active/03-pipelineruns

# Legacy directories (NOT included in resources):
# - 01-tasks/ - old mixed ModelCar/MinIO tasks (superseded by active/)
# - 02-pipeline/ - old ModelCar v3 pipeline (superseded by active/)
# - 03-pipelineruns/ - old runs (superseded by active/)
# - archived-modelcar/ - explicit ModelCar archive (kept for reference)

commonLabels:
  argocd.argoproj.io/instance: stage01-model-serving
  app.kubernetes.io/part-of: private-ai-demo
  app.kubernetes.io/managed-by: argocd

