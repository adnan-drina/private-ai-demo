---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: private-ai-demo

# Common labels applied to all resources
commonLabels:
  app.kubernetes.io/part-of: private-ai-demo
  stage: "01"
  managed-by: argocd

# Resources in deployment order
resources:
  # 1. Namespace
  - project-namespace
  
  # 2. MinIO (Object storage for models and artifacts)
  # COMMENTED OUT: Not needed for pipeline testing
  # - minio
  
  # 3. ImageStreams (for ModelCar)
  - imagestreams
  
  # 4. Pipeline Workspaces
  - workspaces
  
  # 5. Tekton Pipelines (ModelCar)
  - pipelines
  
  # 6. vLLM Serving Infrastructure
  # COMMENTED OUT: Pipeline will deploy InferenceServices
  # - vllm
  
  # 7. Model Loading Jobs (legacy, can be removed once pipelines are validated)
  # COMMENTED OUT: Replaced by pipeline
  # - model-loader
  
  # 8. Benchmarking Infrastructure
  # COMMENTED OUT: Not needed for pipeline testing
  # - benchmarking
  
  # 9. Workbench (Notebooks)
  # COMMENTED OUT: Not needed for pipeline testing
  # - workbench

# Configuration for all resources
configurations:
  - kustomizeconfig.yaml

