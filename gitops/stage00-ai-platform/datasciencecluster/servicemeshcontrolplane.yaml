apiVersion: maistra.io/v2
kind: ServiceMeshControlPlane
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"maistra.io/v2","kind":"ServiceMeshControlPlane","metadata":{"annotations":{},"name":"data-science-smcp","namespace":"istio-system"},"spec":{"addons":{"grafana":{"enabled":false},"kiali":{"enabled":false},"prometheus":{"enabled":false}},"gateways":{"egress":{"service":{"type":"ClusterIP"}},"ingress":{"service":{"type":"ClusterIP"}}},"policy":{"type":"Istiod"},"telemetry":{"type":"Istiod"},"tracing":{"type":"None"},"version":"v2.6"}}
    platform.opendatahub.io/instance.name: default-servicemesh
    platform.opendatahub.io/type: OpenShift AI Self-Managed
    platform.opendatahub.io/version: 2.25.0
  finalizers:
  - maistra.io/istio-operator
  labels:
    platform.opendatahub.io/part-of: servicemesh
  name: data-science-smcp
  namespace: istio-system
spec:
  addons:
    grafana:
      enabled: false
    jaeger:
      name: jaeger
    kiali:
      enabled: false
      name: kiali
    prometheus:
      enabled: false
  gateways:
    egress:
      service:
        type: ClusterIP
    ingress:
      service:
        metadata:
          labels:
            knative: ingressgateway
        type: ClusterIP
    openshiftRoute:
      enabled: false
  policy:
    type: Istiod
  profiles:
  - default
  proxy:
    networking:
      trafficControl:
        inbound:
          excludedPorts:
          - 8444
          - 8022
        outbound: {}
  security:
    dataPlane:
      mtls: true
    identity:
      type: ThirdParty
  techPreview:
    meshConfig:
      defaultConfig:
        terminationDrainDuration: 35s
      extensionProviders:
        - name: redhat-ods-applications-auth-provider
          envoyExtAuthzGrpc:
            service: authorino-authorino-authorization.redhat-ods-applications-auth-provider.svc.cluster.local
            port: 50051
  telemetry:
    type: Istiod
  tracing:
    type: None
  version: v2.6
