apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: openshift-machine-api

labels:
  - includeSelectors: true
    pairs:
      app.kubernetes.io/instance: stage00-gpu-infrastructure
      app.kubernetes.io/part-of: stage00-ai-platform

resources:
  # Dynamic GPU MachineSet Generation (replaces hardcoded MachineSet YAMLs)
  # This Job will clone existing worker MachineSets and modify them for GPU use
  # ensuring compatibility with any OpenShift cluster
  - rbac-machineset-job.yaml
  - configmap-machineset-script.yaml
  - job-generate-gpu-machineset.yaml
  
  # GPU Operator Configuration
  - nodefeaturediscovery.yaml
  - clusterpolicy.yaml

