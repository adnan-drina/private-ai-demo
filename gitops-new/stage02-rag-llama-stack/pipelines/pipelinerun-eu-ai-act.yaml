---
apiVersion: tekton.dev/v1
kind: PipelineRun
metadata:
  name: rag-ingestion-eu-ai-act
  namespace: private-ai-demo
  labels:
    app: docling-rag-pipeline
    scenario: eu-ai-act
  annotations:
    description: "Process and ingest EU AI Act documents for RAG"
spec:
  pipelineRef:
    name: rag-document-ingestion
  
  params:
    - name: scenario
      value: "eu-ai-act"
    
    - name: documents
      value:
        - "eu-ai-act-official-journal.pdf"
        - "eprs-timeline-2025.pdf"
        - "commission-qanda-2024.pdf"
    
    - name: docling-service-url
      value: "http://shared-docling-service.ai-infrastructure.svc:5001"
    
    - name: llamastack-service-url
      value: "http://llama-stack-service.private-ai-demo.svc:8321"
    
    - name: milvus-collection
      value: "rag_documents"
    
    - name: chunk-size
      value: "512"
    
    - name: chunk-overlap
      value: "50"
  
  workspaces:
    - name: documents-pvc
      persistentVolumeClaim:
        claimName: rag-documents-pvc
    
    - name: processing-temp
      emptyDir: {}
  
  timeouts:
    pipeline: "2h"
    tasks: "30m"


