apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-from-acme-agent
  namespace: private-ai-demo
spec:
  podSelector:
    matchLabels:
      app: database-mcp
  policyTypes:
  - Ingress
  ingress:
  - from:
    - namespaceSelector:
        matchLabels:
          kubernetes.io/metadata.name: acme-calibration-ops
    ports:
    - protocol: TCP
      port: 8080
---
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-slack-mcp-from-acme
  namespace: private-ai-demo
spec:
  podSelector:
    matchLabels:
      app: slack-mcp
  policyTypes:
  - Ingress
  ingress:
  - from:
    - namespaceSelector:
        matchLabels:
          kubernetes.io/metadata.name: acme-calibration-ops
    ports:
    - protocol: TCP
      port: 8080
