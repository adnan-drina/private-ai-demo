apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: stage2-private-data-rag
  annotations:
    description: "Stage 2: Private Data RAG - Milvus, Llama Stack, and Docling pipelines"

# Include all Stage 1 resources
resources:
  - ../stage1  # ‚Üê Inherits all Stage 1 components and patches
  
  # Add Stage 2 Kustomizations
  - ../../components/docling-pipeline
  - ../../components/workbench

# Add Stage 2 Components
components:
  - ../../components/milvus
  - ../../components/llama-stack
  - ../../components/docling-operator

# Stage 2 patches - Enable Workbenches
patches:
  - path: datasciencecluster-patch.yaml
    target:
      kind: DataScienceCluster
      name: default-dsc

